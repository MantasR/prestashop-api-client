
> prestashop-api-client@0.1.5 start /home/dev/projects/prestashop-api-client
> ./nodemon --ignore ./dist -x 'npm test || true'

[33m[nodemon] 1.10.2[39m
[33m[nodemon] to restart at any time, enter `rs`[39m
[33m[nodemon] watching: *.*[39m
[32m[nodemon] starting `npm test || true`[39m
events.js:160
      throw er; // Unhandled 'error' event
      ^

Error: EBADF: bad file descriptor, read
    at Error (native)

npm ERR! Linux 3.19.0-25-generic
npm ERR! argv "/home/dev/.nvm/versions/node/v6.5.0/bin/node" "/home/dev/.nvm/versions/node/v6.5.0/bin/npm" "start"
npm ERR! node v6.5.0
npm ERR! npm  v3.10.3
npm ERR! code ELIFECYCLE
npm ERR! prestashop-api-client@0.1.5 start: `./nodemon --ignore ./dist -x 'npm test || true'`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the prestashop-api-client@0.1.5 start script './nodemon --ignore ./dist -x 'npm test || true''.
npm ERR! Make sure you have the latest version of node.js and npm installed.
npm ERR! If you do, this is most likely a problem with the prestashop-api-client package,
npm ERR! not with npm itself.
npm ERR! Tell the author that this fails on your system:
npm ERR!     ./nodemon --ignore ./dist -x 'npm test || true'
npm ERR! You can get information on how to open an issue for this project with:
npm ERR!     npm bugs prestashop-api-client
npm ERR! Or if that isn't available, you can get their info via:
npm ERR!     npm owner ls prestashop-api-client
npm ERR! There is likely additional logging output above.

npm ERR! Please include the following file with any support request:
npm ERR!     /home/dev/projects/prestashop-api-client/npm-debug.log

> prestashop-api-client@0.1.5 pretest /home/dev/projects/prestashop-api-client
> .npm/scripts/build

src/index.js -> dist/index.js
src/lang.js -> dist/lang.js
src/models.js -> dist/models.js
src/querystring.js -> dist/querystring.js
src/rest.js -> dist/rest.js
src/xml.js -> dist/xml.js

> prestashop-api-client@0.1.5 test /home/dev/projects/prestashop-api-client
> ./mocha --compilers js:babel-core/register -r tests/bootstrap.js --recursive tests/unit



  lang
    .empty()
      âœ“ false is empty
      âœ“ true is not empty
      âœ“ null is empty
      âœ“ undefined is empty
      âœ“ zero-length string is empty
      âœ“ non-zero length string is not empty
      âœ“ zero-length array is empty
      âœ“ non-zero length array is not empty
      âœ“ integer zero is empty
      âœ“ number other than integer zero is not empty
      âœ“ NaN is not empty
      âœ“ Map with no keys is empty
      âœ“ Set with no values is empty
      âœ“ object that owns no properties is empty
      âœ“ object that owns at least one property is not empty
      âœ“ Map with at least one key is not empty
      âœ“ Set with at least one value is not empty

  models.Model
    #constructor()
      1) mass-assigns supplied properties
    #set()
      2) mass-assigns supplied properties at arity 1
      âœ“ assigns a single property at arity 2
      3) coerces property values via #mutators()

  querystring
    .stringify()
      âœ“ converts an Object to a query string

  rest.Client
    #url()
      âœ“ derives a proxy url
      âœ“ derives a proxy url with query parameters
    #get()
      âœ“ sends a GET request
      âœ“ throws an Error on non-OK response
    root resource access
      #resource()
        âœ“ returns a Products resource on key "products"

  rest.resources.Products
    #get()
      âœ“ returns a single Product model (58ms)
    #list()
      4) returns a list of Product models

  xml
    .parse()
      âœ“ converts XML string to a plain object


  26 passing (196ms)
  4 failing

  1) models.Model #constructor() mass-assigns supplied properties:
     AssertionError: expected undefined to equal 2
      at Context.<anonymous> (tests/unit/models/Model.spec.js:11:28)

  2) models.Model #set() mass-assigns supplied properties at arity 1:
     AssertionError: expected undefined to equal 2
      at Context.<anonymous> (tests/unit/models/Model.spec.js:19:28)

  3) models.Model #set() coerces property values via #mutators():
     AssertionError: expected 2 to equal 'scooby-doo'
      at Context.<anonymous> (tests/unit/models/Model.spec.js:34:28)

  4) rest.resources.Products #list() returns a list of Product models:
     
  Error
      at Object.<anonymous> (tests/unit/rest/resources/Products.spec.js:6:15)
      at loader (node_modules/babel-register/lib/node.js:146:5)
      at Object.require.extensions.(anonymous function) [as .js] (node_modules/babel-register/lib/node.js:156:7)
      at require (internal/module.js:20:19)
      at Array.forEach (native)
      at run (bootstrap_node.js:394:7)
      at startup (bootstrap_node.js:149:9)
      at bootstrap_node.js:509:3



npm ERR! Test failed.  See above for more details.
[33m[nodemon] 1.10.2[39m
[33m[nodemon] to restart at any time, enter `rs`[39m
[33m[nodemon] watching: *.*[39m
[32m[nodemon] starting `npm test || true`[39m

> prestashop-api-client@0.1.5 pretest /home/dev/projects/prestashop-api-client
> .npm/scripts/build

src/index.js -> dist/index.js
src/lang.js -> dist/lang.js
src/models.js -> dist/models.js
src/querystring.js -> dist/querystring.js
src/rest.js -> dist/rest.js
src/xml.js -> dist/xml.js

> prestashop-api-client@0.1.5 test /home/dev/projects/prestashop-api-client
> ./mocha --compilers js:babel-core/register -r tests/bootstrap.js --recursive tests/unit



  lang
    .empty()
      âœ“ false is empty
      âœ“ true is not empty
      âœ“ null is empty
      âœ“ undefined is empty
      âœ“ zero-length string is empty
      âœ“ non-zero length string is not empty
      âœ“ zero-length array is empty
      âœ“ non-zero length array is not empty
      âœ“ integer zero is empty
      âœ“ number other than integer zero is not empty
      âœ“ NaN is not empty
      âœ“ Map with no keys is empty
      âœ“ Set with no values is empty
      âœ“ object that owns no properties is empty
      âœ“ object that owns at least one property is not empty
      âœ“ Map with at least one key is not empty
      âœ“ Set with at least one value is not empty

  models.Model
    #constructor()
      1) mass-assigns supplied properties
    #set()
      2) mass-assigns supplied properties at arity 1
      âœ“ assigns a single property at arity 2
      3) coerces property values via #mutators()

  querystring
    .stringify()
      âœ“ converts an Object to a query string

  rest.Client
    #url()
      âœ“ derives a proxy url
      âœ“ derives a proxy url with query parameters
    #get()
      âœ“ sends a GET request
      âœ“ throws an Error on non-OK response
    root resource access
      #resource()
        âœ“ returns a Products resource on key "products"

  rest.resources.Products
    #get()
      âœ“ returns a single Product model (52ms)
    #list()
      4) returns a list of Product models

  xml
    .parse()
      âœ“ converts XML string to a plain object


  26 passing (194ms)
  4 failing

  1) models.Model #constructor() mass-assigns supplied properties:
     AssertionError: expected undefined to equal 2
      at Context.<anonymous> (tests/unit/models/Model.spec.js:11:28)

  2) models.Model #set() mass-assigns supplied properties at arity 1:
     AssertionError: expected undefined to equal 2
      at Context.<anonymous> (tests/unit/models/Model.spec.js:19:28)

  3) models.Model #set() coerces property values via #mutators():
     AssertionError: expected 2 to equal 'scooby-doo'
      at Context.<anonymous> (tests/unit/models/Model.spec.js:34:28)

  4) rest.resources.Products #list() returns a list of Product models:
     
  Error
      at Object.<anonymous> (tests/unit/rest/resources/Products.spec.js:6:15)
      at loader (node_modules/babel-register/lib/node.js:146:5)
      at Object.require.extensions.(anonymous function) [as .js] (node_modules/babel-register/lib/node.js:156:7)
      at require (internal/module.js:20:19)
      at Array.forEach (native)
      at run (bootstrap_node.js:394:7)
      at startup (bootstrap_node.js:149:9)
      at bootstrap_node.js:509:3



npm ERR! Test failed.  See above for more details.
[32m[nodemon] clean exit - waiting for changes before restart[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `npm test || true`[39m

> prestashop-api-client@0.1.5 pretest /home/dev/projects/prestashop-api-client
> .npm/scripts/build

src/index.js -> dist/index.js
src/lang.js -> dist/lang.js
src/models.js -> dist/models.js
src/querystring.js -> dist/querystring.js
